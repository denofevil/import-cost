plugins {
    id 'org.jetbrains.intellij' version '1.1.3'
    id 'org.jetbrains.kotlin.jvm' version '1.5.21'
}

repositories {
    mavenCentral()
}

intellij {
    version = 'IU-LATEST-EAP-SNAPSHOT'
    plugins = ['JavaScriptLanguage']
}

version '1.0.7.212'

patchPluginXml {
    sinceBuild = "212.0"
    untilBuild = "212.*"
}

// js packing
project.afterEvaluate {
    prepareSandbox.doLast {
        def libraries = "$it.destinationDir/$intellij.pluginName/lib/"
        copy {
            from "$project.projectDir/javascript"
            into libraries
        }
    }
}